<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta charset="UTF-8" />
    <title>Energy subsidies 2.0</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.0/d3.min.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.js"></script>
    <script src="dev-js/scripts.js"></script>
    <link rel="stylesheet" type="text/css" href="http://www.rff.org/sites/all/themes/rff_theme/css/styles.css?p05msg" />
    <link rel="stylesheet" type="text/css" href="dev-css/styles.css" />
</head>
<body style="max-width: 728px;margin: 0 auto;">

    <p><strong>Settings</strong></p>
    <form id="forms">
        <div>
            <input id="stopGap" type="radio" name="target" value="stopGap" checked />
            <label for="stopGap">Coal & nuclear</label>
            <input id="coalOnly" type="radio" name="target" value="coalOnly" />
            <label for="coalOnly">Coal only</label>
            <input id="nuclearOnly" type="radio" name="target" value="nuclearOnly" />
            <label for="nuclearOnly">Nuclear only</label>
        </div>
    </form>
    
    <div class="d3-group" data-sheet-id="15fQ2AUS5n9B5yV0sftvY7fCmrWkCQfyBrhBwxMkAxPU" data-normalize-columns-start="3" data-nest-by='["category","series","property"]' data-data-tab="Sheet1" data-dictionary-tab="dictionary" data-variable-y="stopGap" data-variable-x="year" data-type="line" data-svg-width="320" data-direct-label="true" data-scale-by='["stopGap","coalOnly","nuclearOnly"]'>
    </div>

    <div class="dashboard">
       <!-- <div class="d3-chart group-0" data-category="capacity" data-series-group='[["coal-total","nuclear-total","gas-total"]]' data-margin-right="85" data-reset-colors="true"></div> -->
        <div class="d3-chart group-0" data-category="generation" data-series-group='none' data-margin-right="85"></div>
        <div class="d3-chart group-0" data-category="emissions" data-series-group='none'></div>
        <div class="d3-chart group-0" data-category="death" data-series-group='"none"'></div>
        <div class="d3-chart group-0" data-category="costs" data-series-group='"none"'></div>
        <div class="d3-chart group-0" data-category="jobs" data-series-group='"none"'></div>
    </div>

    <script type="text/javascript">
        D3Charts.Init();
            var form = document.querySelector('#forms');
            form.querySelectorAll('input').forEach(function(each){
                each.onchange = function(){
                    D3Charts.UpdateGroup(0, this.value);
                }
            });
        
    </script>  
</body>
</html>